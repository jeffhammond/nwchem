#$Id: GNUmakefile 26511 2014-12-10 17:54:10Z jhammond $
#

include ../../config/makefile.h

OBJ_OPTIMIZE = tce_sort_4kg.o

# OLD DEFAULT
#OBJ_OPTIMIZE += tce_sort.o tce_sortacc.o

# OLD NON-DEFAULT (missing some cases that can be added per-file as below)
#OBJ_OPTIMIZE += tce_sortacc_saday.o tce_sort_saday.o

# These are pointless utility routines that exist only because of code generator.
OBJ_OPTIMIZE += tce_sort0.o tce_sortacc0.o

# NEW sorts - faster, simpler, amenable to OpenMP
OBJ_OPTIMIZE += new_sort2.o 
OBJ_OPTIMIZE += new_sort4.o 
OBJ_OPTIMIZE += new_sort6.o 
# OLD sorts
#OBJ_OPTIMIZE += tce_sort2.o tce_sortacc2.o
#OBJ_OPTIMIZE += tce_sort4.o tce_sortacc4.o
#OBJ_OPTIMIZE += tce_sort6.o tce_sortacc6.o

# These have not been optimized yet because quadruples do not get used much.
OBJ_OPTIMIZE += tce_sort8.o tce_sortacc8.o

# This is used in the EOM code.
OBJ_OPTIMIZE += tce_sort1.o

# This is for CCSD - uses do concurrent for GPU support
OBJ_OPTIMIZE += new_sort4_x.o

# replace this with something better later
ifdef USE_OPENACC_TRPDRV
  ifeq ($(_FC),pgf90)
      FOPTIONS += -Mextend -stdpar=gpu -gpu=managed
  endif
endif


LIB_INCLUDES = -I../include

LIBRARY = libtce.a

USES_BLAS = 

HEADERS =

include ../../config/makelib.h

